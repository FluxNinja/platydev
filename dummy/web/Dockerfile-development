# ! ########################################################################### ! #
# ! #|     THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY     |# ! #
# ! ########################################################################### ! #

FROM node:14-alpine

RUN npm i lerna @quasar/cli -g --loglevel error
USER node

RUN mkdir /home/node/app
WORKDIR /home/node/app

EXPOSE 3000

COPY --chown=node:node package.json yarn.lock lerna.json tsconfig.json tsconfig.build.json .eslintrc.js .eslintignore ./
# 
COPY --chown=node:node dummy/web/package.json /home/node/app/dummy/web/
# 
COPY --chown=node:node packages/data/package.json /home/node/app/packages/data/
# 

RUN yarn

# 
COPY --chown=node:node dummy/web /home/node/app/dummy/web
# 
COPY --chown=node:node packages/data /home/node/app/packages/data
# 

CMD cd dummy/web && quasar dev
