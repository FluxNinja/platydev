# ! ################################################ ! #
# ! ###|   Autogenerated file - DO NOT MODIFY   |### ! #
# ! ################################################ ! #

FROM node:12-alpine

RUN npm i lerna -g --loglevel error
USER node

RUN mkdir /home/node/app
WORKDIR /home/node/app

EXPOSE 3000

COPY --chown=node:node package.json yarn.lock lerna.json tsconfig.json tsconfig.build.json .eslintrc.js .eslintignore ./

COPY --chown=node:node {{path}}/package.json {{path}}/yarn.* /home/node/app/{{path}}/
# {{#each dependencies}}
COPY --chown=node:node {{this.path}}/package.json {{this.path}}/yarn.* {{this.path}}/
# {{/each}}

RUN yarn

COPY --chown=node:node {{path}} /home/node/app/{{path}}
# {{#each dependencies}}
COPY --chown=node:node {{this.path}} {{this.path}}
# {{/each}}

CMD cd {{path}} && yarn development
