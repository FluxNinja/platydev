# Roadmap

## Step 1: publishable contents: Helm Charts

- [x] complete Hasura Helm chart options
- [x] complete HBP Helm chart options
- [ ] Hasura Helm chart readme
- [ ] HBP Helm chart readme
- [ ] main website cleanup
- [ ] review TODOs in the code
- [x] make repo public
- [ ] advertise
- [ ] test standalone HBP (and Hasura?)

## Step 2: DevTools MVP

- [ ] ? merge traefik and cert-manager charts?
- [ ] how to publish docker images with correct tags -> custom skaffold builder?
- [ ] .platy.yaml: use the k8s terminology with kind: platyplus/project, name: project name ?
- [ ] update versions in helm chart generated by devtools? Only if none or if using '\*'?
      `platy version` in a similar way to `lerna version` - that update helm chart versions accordingly?
- [ ] monorepo config e.g.:
      organisation name for default package names?
      default packages directory?
      `platy create monorepo` (create lerna, base tsconfigs, default @org/package directory, warns when something required is not installed e.g. skaffold, helm...)
- [ ] Getting started
- [ ] Hasura+HBP recipe
- [ ] CLI API documentation
- [ ] attention: document the use of subdomain.localhost. Works with Chrome, but not with Firefox (etc)

## Next

- [ ] Helm Charts repo: keep history (older chart versions) -> chartmuseum
- [ ] tilehuria worker is not an http server -> allow port deactivation in the standard-service chart
- [ ] add testing to package/service/project/monorepo templates
- [ ] PostgreSql HA https://github.com/bitnami/charts/tree/master/bitnami/postgresql-ha
- [ ] Improve Helm Chart production/development values

## Later

- [ ] optimise generated dockerfiles - use common layers?
- [ ] rabbitmq docker, helm & template?
- [ ] hasura init container: wait for postgres
- [ ] hbp init container: wait for hasura (and for minio?)
- [ ] standard init container: wait for connected services
- [ ] move templates to the root folder?
- [ ] vite template -> serviceTypeConfig.command = "yarn create {{xyz}}"
- [ ] review monorepo template
- [ ] post-install @platyplus/devtools: launch the script to check/warn dependencies -> https://www.npmjs.com/package/which
- [ ] when fetching HBP metadata/migrations:
      git clone --filter only the required directories
      copy only sql files of the migrations (Hasura config v1), not the yaml files (Hasura config 1)
- [ ] create shared Helm charts e.g. to generate Hasura JWT secret etc.

## Parked

- [ ] Vetur errors -> monitor the new Vetur releases
- [ ] postgres docker, helm & template -> solve the password change problem
- [ ] preserve yaml comments e.g. https://www.npmjs.com/package/yawn-yaml
